% Beamer outer theme for Koalab slides
%   Because tree-themed slides are nice, but suck at space usage.
% By Uriel ``Korfuri'' Corfa <uriel@corfa.fr>

% This work is partially stolen shamelessly, and without regard to the
% license, from the Beamer outer theme ``tree''.

\ProvidesPackage{beamerouterthemekoala}[2010/10/08]


\newif\ifbeamer@koala@showhooks
\beamer@koala@showhookstrue

\DeclareOptionBeamer{hooks}[true]{\csname beamer@koala@showhooks#1\endcsname}
\ProcessOptionsBeamer

\mode<presentation>

\defbeamertemplate*{headline}{koala theme}{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.125ex,%
      leftskip=3cm,rightskip=.3cm plus1fil]{title in head/foot}
    \usebeamerfont{title in head/foot}\insertshorttitle~-
    \usebeamerfont{author in head/foot}\insertauthor
  \end{beamercolorbox}
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.125ex,%
      leftskip=3cm,rightskip=.3cm plus1fil]{section in head/foot}
    \usebeamerfont{section in head/foot}%
    \ifbeamer@koala@showhooks
    \setbox\beamer@tempbox=\hbox{\insertsectionhead}%
    \ifdim\wd\beamer@tempbox>1pt%
    \hskip2pt\raise1.9pt\hbox{\vrule width0.4pt height1.875ex\vrule width 5pt height0.4pt}%
    \hskip1pt%
    \fi%
    \else%  
    \hskip6pt%
    \fi%
    \insertsectionhead
  \end{beamercolorbox}
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.125ex,%
      leftskip=3cm,rightskip=.3cm plus1fil]{subsection in head/foot}
    \usebeamerfont{subsection in head/foot}%
    \ifbeamer@koala@showhooks
    \setbox\beamer@tempbox=\hbox{\insertsubsectionhead}%
    \ifdim\wd\beamer@tempbox>1pt%
    \hskip9.4pt\raise1.9pt\hbox{\vrule width0.4pt height1.875ex\vrule width 5pt height0.4pt}%
    \hskip1pt%
    \fi%
    \else%  
    \hskip12pt%
    \fi%
    \insertsubsectionhead
  \end{beamercolorbox}
}

  
\mode
<all>
